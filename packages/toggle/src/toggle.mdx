import { Canvas, Story } from '@storybook/addon-docs';

# Toggle

토글은, `on-off` 상태가 토글링되는 컴포넌트입니다.

<Canvas>
  <Story id="over-ui-toggle--main" />
</Canvas>

## install

```
yarn add @over-ui/toggle
```

## usage

### controlled

외부에서 상태를 선언한 상태와 같이 사용할 수 있습니다.  
`controlled`로 사용한다면, `pressed, onPressedChange`를 이용해야 합니다.  
이때 `pressed`는 상태를, `onPressedChange`는 상태 변경 함수가 등록되어야 합니다.

<Canvas>
  <Story id="over-ui-toggle--controlled" />
</Canvas>

### uncontrolled

내부의 상태만을 이용할 수 있습니다.  
`pressed` 상태를 필요로 하는 다른 함수와 조합해 사용할 수 있습니다.

<Canvas>
  <Story id="over-ui-toggle--uncontrolled" />
</Canvas>

## with emotion

`emotion`을 사용한다면 다음과 같이 스타일링할 수 있습니다.  
`data-pressed`, `data-disabled`를 통해 스타일링을 간편히 할 수 있습니다.

<Canvas>
  <Story id="over-ui-toggle--styled" />
</Canvas>

```tsx
const StyledToggle = styled(Toggle)`
  padding: 10px 15px;

  &[data-pressed='on'] {
    background-color: green;
  }
  &[data-disabled='true'] {
    background-color: red;
  }
  &:focus {
    border: 2px solid blue;
  }
  border: none;
  font-size: 12px;
`;
```

### with RenderProps

`pressed : boolean`, `disabled : boolean` 두가지의 `render Props`를 사용할 수 있습니다.  
`renderProps`를 사용해 상태를 따로 정해두지 않고도, 자식 요소를 조건부 렌더링할 수 있습니다.

<Canvas>
  <Story id="over-ui-toggle--render-props" />
</Canvas>

<br />

## API

### Toggle

| Name               | Type                             | Default | Description                                                                                                                        |
| :----------------- | :------------------------------- | :------ | :--------------------------------------------------------------------------------------------------------------------------------- |
| `defaultPressed?`  | `boolean`                        | `false` | `Toggle`의 `pressed` 상태의 초기값을 지정합니다. `pressed`와 함께 사용할 수 없습니다. `onPressedChange`와 함께 사용할 수 있습니다. |
| `disabled?`        | `boolean`                        | `false` | 토글을 disabled하는 값입니다.                                                                                                      |
| `onPressedChange?` | (`pressed`: `boolean`) => `void` | -       | `Toggle`의 상태가 바뀔때 실행되는 함수입니다.                                                                                      |
| `pressed?`         | `boolean`                        | -       | 외부에서 선언한 상태를 이용할때 사용합니다. `defaultPressed`와 함께 사용할 수 없습니다. `onPressedChange` 를 함께 사용해야합니다.  |

### RenderProps

| Name       | Type      | Default | Description                                            |
| :--------- | :-------- | :------ | :----------------------------------------------------- |
| `pressed`  | `boolean` | `false` | `pressed`를 기반으로 자식요소를 렌더링할 수 있습니다.  |
| `disabled` | `boolean` | `false` | `disabled`를 기반으로 자식요소를 렌더링할 수 있습니다. |

### Data-\*

| Name            | Type              | Default | Description                          |
| :-------------- | :---------------- | :------ | :----------------------------------- |
| `data-pressed`  | `on` \| `off`     | `off`   | 토글의 `pressed` 상태를 나타냅니다.  |
| `data-disabled` | `true` \| `false` | `false` | 토글의 `disabled` 상태를 나타냅니다. |

<br />

## Accessibility

### Aria-\*

| Name            | Type      | Default | Description                          |
| :-------------- | :-------- | :------ | :----------------------------------- |
| `aria-pressed`  | `boolean` | `false` | 토글의 `pressed` 상태를 나타냅니다.  |
| `aria-disabled` | `boolean` | `false` | 토글의 `disabled` 상태를 나타냅니다. |

### Keyboard

| Name    | Description                                        |
| :------ | -------------------------------------------------- |
| `Enter` | 토글에 `focus`되었다면 토글의 상태를 토글링합니다. |
| `Space` | 토글에 `focus`되었다면 토글의 상태를 토글링합니다. |
